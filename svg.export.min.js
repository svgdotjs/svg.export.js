// svg.export.js 0.8 - Copyright (c) 2013 Wout Fierens - Licensed under the MIT license
SVG.extend(SVG.Element,{"exportsvg":function(e,t){var n,r,i,s,o=this.node.nodeName,u="";e=e||{};if(e.exclude==null||!e.exclude.call(this)){e=e||{};t=t||0;if(this instanceof SVG.Doc){u+=this._whitespaced('<?xml version="1.0" encoding="UTF-8"?>',e.whitespace,t);i=this.attr("width");s=this.attr("height");if(e.width)this.attr("width",e.width);if(e.height)this.attr("height",e.height)}u+=this._whitespaced("<"+o+this.attrToString()+">",e.whitespace,t);if(this instanceof SVG.Doc){this.attr({width:i,height:s});u+=this._whitespaced("<desc>Created with svg.js [http://svgjs.com]</desc>",e.whitespace,t+1);u+=this._whitespaced("<defs>",e.whitespace,t+1);for(n=0,r=this._defs.children().length;n<r;n++)u+=this._defs.children()[n].exportsvg(e,t+2);u+=this._whitespaced("</defs>",e.whitespace,t+1)}if(this instanceof SVG.Container){for(n=0,r=this.children().length;n<r;n++)u+=this.children()[n].exportsvg(e,t+1)}else if(this instanceof SVG.Text){for(n=0,r=this.lines.length;n<r;n++)u+=this.lines[n].exportsvg(e,t+1)}if(this instanceof SVG.TSpan)u+=this._whitespaced(this.node.firstChild.nodeValue,e.whitespace,t+1);u+=this._whitespaced("</"+o+">",e.whitespace,t)}return u},exportAttr:function(e){if(arguments.length==0)return this.data("svg-export-attr");return this.data("svg-export-attr",e)},attrToString:function(){var e,t,n,r=[],i=this.exportAttr(),s=this.attr();if(typeof i=="object")for(t in i)if(t!="data-svg-export-attr")s[t]=i[t];for(t in s){n=s[t];if(t=="xlink")t="xmlns:xlink";if(t!="data-svg-export-attr"&&(t!="stroke"||parseFloat(s["stroke-width"])>0))r.push(t+'="'+n+'"')}return r.length?" "+r.join(" "):""},_whitespaced:function(e,t,n){if(t){var r="",s=t===true?"  ":t||"";for(i=n-1;i>=0;i--)r+=s;e=r+e+"\n"}return e}})