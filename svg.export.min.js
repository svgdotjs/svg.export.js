// svg.export.js 0.6 - Copyright (c) 2013 Wout Fierens - Licensed under the MIT license
SVG.extend(SVG.Element,{"export":function(a,b){var c,d,e,f,g=this.node.nodeName,h="";if(a=a||{},null==a.exclude||!a.exclude.call(this))if(a=a||{},b=b||0,this instanceof SVG.Doc&&(h+=this._whitespaced('<?xml version="1.0" encoding="UTF-8"?>',a.whitespace,b),e=this.attr("width"),f=this.attr("height"),a.width&&this.attr("width",a.width),a.height&&this.attr("height",a.height)),this instanceof SVG.TextNode)h+=this.extractText();else{if(h+=this._whitespaced("<"+g+this.attrToString()+">",a.whitespace,b),this instanceof SVG.Doc&&(this.attr({width:e,height:f}),h+=this._whitespaced("<desc>Created with svg.js [http://svgjs.com]</desc>",a.whitespace,b+1)),this instanceof SVG.Container||this instanceof SVG.TextShape)for(c=0,d=this.children().length;d>c;c++)h+=this.children()[c].export(a,b+1);h+=this._whitespaced("</"+g+">",a.whitespace,b)}return h},exportAttr:function(a){return 0==arguments.length?this.data("svg-export-attr"):this.data("svg-export-attr",a)},attrToString:function(){var b,c,d=[],e=this.exportAttr(),f=this.attr();if("object"==typeof e)for(b in e)"data-svg-export-attr"!=b&&(f[b]=e[b]);for(b in f)c=f[b],"xlink"==b&&(b="xmlns:xlink"),"data-svg-export-attr"!=b&&("stroke"!=b||parseFloat(f["stroke-width"])>0)&&d.push(b+'="'+c+'"');return d.length?" "+d.join(" "):""},_whitespaced:function(a,b,c){if(b){var d="",e=b===!0?"  ":b||"";for(i=c-1;i>=0;i--)d+=e;a=d+a+"\n"}return a}});
